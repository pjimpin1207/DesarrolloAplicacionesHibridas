<!-- CABECERA -->
<app-header></app-header>

<ion-content [fullscreen]="true" class="ion-padding">

  <!-- SECCI√ìN HERO -->
  <ion-grid class="hero-section">
    <ion-row>
      <!-- Columna izquierda: presentaci√≥n -->
      <ion-col size="12" size-lg="7" class="hero-text">
        <h1>Noticias Deportivas</h1>
        <h2>Bienvenido a <span class="accent">InfoNow</span></h2>
        <p>
          Mantente al d√≠a con las √∫ltimas novedades del mundo del 
          <strong>f√∫tbol</strong>, <strong>baloncesto</strong> y <strong>tenis</strong>.
        </p>

        <ion-img
          src="https://cdn.mos.cms.futurecdn.net/GGtZn5SU3nnezoso6truXM.jpg"
          alt="Deportes"
          class="hero-image">
        </ion-img>
      </ion-col>

      <!-- Columna derecha: formulario para nueva noticia -->
      <ion-col size="12" size-lg="5" class="hero-form">
        <ion-card>
          <ion-card-header color="secondary">
            <ion-card-title>
              <ion-icon name="add-circle-outline"></ion-icon>
              Publicar nueva noticia
            </ion-card-title>
          </ion-card-header>

          <ion-card-content>
            <form (ngSubmit)="agregarNoticia()">
              <ion-item>
                <ion-label position="floating">T√≠tulo</ion-label>
                <ion-input [(ngModel)]="nuevaNoticia.titulo" name="titulo" required></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Descripci√≥n</ion-label>
                <ion-textarea
                  autoGrow="true"
                  [(ngModel)]="nuevaNoticia.descripcion"
                  name="descripcion"
                  required>
                </ion-textarea>
              </ion-item>

              <ion-item>
                <ion-label position="floating">URL de imagen</ion-label>
                <ion-input [(ngModel)]="nuevaNoticia.imagen" name="imagen"></ion-input>
              </ion-item>

              <!-- Selecci√≥n de categor√≠a deportiva -->
              <ion-item>
                <ion-label>Categor√≠a</ion-label>
                <ion-select
                  [(ngModel)]="nuevaNoticia.categoria"
                  name="categoria"
                  placeholder="Selecciona una categor√≠a">
                  <ion-select-option value="F√∫tbol">F√∫tbol</ion-select-option>
                  <ion-select-option value="Baloncesto">Baloncesto</ion-select-option>
                  <ion-select-option value="Tenis">Tenis</ion-select-option>
                </ion-select>
              </ion-item>

              <ion-item lines="none">
                <ion-label>Urgente</ion-label>
                <ion-toggle
                  [(ngModel)]="nuevaNoticia.esUrgente"
                  name="esUrgente"
                  color="secondary">
                </ion-toggle>
              </ion-item>

              <ion-button expand="block" type="submit" color="secondary" shape="round">
                Publicar noticia
              </ion-button>
            </form>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- SKELETONS DE CARGA -->
  <div *ngIf="loading">
    <ion-card *ngFor="let i of [1,2,3]" class="skeleton-card">
      <ion-card-header>
        <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>
      </ion-card-header>
      <ion-card-content>
        <ion-skeleton-text animated style="width: 100%; height: 120px;"></ion-skeleton-text>
      </ion-card-content>
    </ion-card>
  </div>

  <!-- GRID DE NOTICIAS -->
  <ion-grid *ngIf="!loading && noticias.length > 0" class="news-grid">
    <ion-row>
      <ion-col
        size="12"
        size-sm="6"
        size-lg="4"
        *ngFor="let noticia of noticias">
        <app-noticia-item [noticia]="noticia"></app-noticia-item>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- MENSAJE SI NO HAY NOTICIAS -->
  <div *ngIf="!loading && noticias.length === 0" class="mensaje-vacio">
    <p>‚öΩ No hay noticias disponibles üèÄ</p>
    <p>¬°Publica la primera!</p>
  </div>

</ion-content>
